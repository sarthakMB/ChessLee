<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chess Coach</title>

  <!-- Tailwind CDN -->
  <!-- <script src="https://cdn.tailwindcss.com"></script> -->

  <!-- Chessboard.js CSS -->
  <!-- <link rel="stylesheet" href="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.css"> -->
  <link rel="stylesheet" href="/css/chessboard-1.0.0.css">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;700&display=swap"
    rel="stylesheet">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/css/output.css">
  <link rel="stylesheet" href="/css/style.css">

</head>

<body>

  <!-- Outer Container -->
  <div class="flex flex-col lg:flex-row lg:h-screen lg:overflow-hidden bg-neutral-700 gap-5">

    <!-- Side Bar -->
    <aside
      class="flex flex-row lg:flex-col w-full lg:h-full lg:w-30 lg:overflow-y-auto"
      hx-get="/partials/sidebar.html"
      hx-trigger="load"
      hx-swap="outerHTML"
    >
      <div class="w-full text-center text-gray-500 py-10 bg-neutral-800 rounded-xl">
        Loading sidebar...
      </div>
    </aside>

    <!-- Main Chess Area -->
    <!-- <main class="relative min-h-screen flex flex-col items-center justify-center z-10 p-4"> -->
    <main class="flex-3 h-full flex overflow-hidden">

      <!-- Glass Container -->
      <div class="w-full p-[30px] flex flex-1 flex-col items-center gap-5">

        <!-- Opponent Info -->
        <div>
          <!-- Profile -->
          <div></div>
          <!-- Timer -->
          <div></div>
        </div>

        <!-- Board Container -->
        <div class="w-full max-w-[600px] aspect-square relative group">
          <!-- Glow effect -->
          <!-- <div
            class="absolute -inset-1 rounded-lg blur opacity-20 group-hover:opacity-40 transition duration-1000 group-hover:duration-200">
          </div> -->

          <!-- The Board -->
          <div id="myBoard" class="relative w-full h-full ">
          </div>
        </div>

        <!-- My Info -->
        <div>
          <!-- Profile -->
          <div></div>
          <!-- Timer -->
          <div></div>
        </div>

      </div>
    </main>

    <!-- Side Panel -->
    <section class="flex flex-2 p-2 flex-col h-full overflow-y-auto">
      <div class="w-full p-[10px] rounded-xl bg-zinc-800 flex flex-1 flex-col items-center gap-2 overflow-y-auto">

        <!-- Action Form -->
        <form
          class="w-full bg-zinc-900/70 rounded-lg p-4 flex flex-col gap-3"
          hx-target="#game-status"
          hx-swap="innerHTML"
        >
          <h3 class="text-gray-400 font-bold">Start or Join a Game</h3>
          <a
            href="/game/sandbox"
            class="w-full rounded-lg p-3 bg-zinc-600/50 hover:bg-zinc-500/60 font-bold transition text-center block"
          >
            Sandbox
          </a>
          <button
            type="button"
            class="w-full rounded-lg p-3 bg-lime-600/50 hover:bg-lime-500/60 font-bold transition"
            hx-post="/game/computer"
            hx-indicator="#action-indicator"
          >
            Play Computer (1200)
          </button>
          <button
            type="button"
            class="w-full rounded-lg p-3 bg-zinc-600/50 hover:bg-zinc-500/60 font-bold transition"
            hx-post="/game/friend"
            hx-indicator="#action-indicator"
          >
            Start Game with Friend
          </button>
          <div class="flex flex-col gap-2">
            <label class="text-gray-400 text-sm" for="join-code">Join Code</label>
            <input
              id="join-code"
              name="joinCode"
              type="text"
              placeholder="Enter code"
              class="w-full rounded-md border border-zinc-700 bg-zinc-900 px-3 py-2 text-gray-100 placeholder:text-gray-500 focus:border-lime-400/70 focus:outline-none"
            />
            <button
              type="submit"
              class="w-full rounded-lg p-3 bg-zinc-500/70 hover:bg-zinc-400/80 font-bold transition"
              hx-post="/join"
              hx-include="[name='joinCode']"
              hx-indicator="#action-indicator"
            >
              Join Game ðŸ”‘
            </button>
          </div>
          <div id="action-indicator" class="htmx-indicator text-sm text-gray-500">
            Processing...
          </div>
          <div id="game-status" class="text-sm text-gray-300 min-h-[1.5rem]"></div>
        </form>

      </div>
    </section>
  </div>



  <script src="https://unpkg.com/htmx.org@1.9.12"></script>

  <!-- jQuery (Required for Chessboard.js) -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

  <!-- Chessboard.js -->
  <!-- <script src="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.js"></script> -->
  <script src="/js/chessboard-1.0.0.js"></script>
  <script type="module" src="/js/chess.js"></script>

  <script type="module" src="/js/game.js"></script>
</body>

</html>
